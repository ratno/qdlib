(function(d){var b;d.fn.treeTable=function(f){b=d.extend({},d.fn.treeTable.defaults,f);return this.each(function(){d(this).find("tbody tr").each(function(){a(d(this))})})};d.fn.treeTable.defaults={dataAttribute:"level",collapsedByDefault:true,ignoreClickOn:"input, a"};d.fn.treetable_collapse=function(){if(d(this).treetable_hasChildren()){d(this).removeClass("expanded").addClass("collapsed");e(d(this)).each(function(){d(this).hide().treetable_collapse()})}return this};d.fn.treetable_expand=function(){if(d(this).treetable_hasChildren()){d(this).removeClass("collapsed").addClass("expanded");e(d(this)).each(function(){d(this).show()})}return this};d.fn.treetable_hasChildren=function(){return(e(d(this)).length>0)};d.fn.treetable_toggle=function(){if(d(this).hasClass("collapsed")){d(this).treetable_expand()}else{d(this).treetable_collapse()}return this};function a(f){if(f.treetable_hasChildren()){f.click(function(h){var g=d(h.target);if(!g.is(b.ignoreClickOn)){f.treetable_toggle();return false}});if(b.collapsedByDefault){f.treetable_collapse()}else{f.treetable_expand()}}}function c(f){return parseInt(d(f).data(b.dataAttribute))}function e(f){nodeLevel=c(f);childrenLevel=nodeLevel+1;return d(f).nextUntil("tr[data-"+b.dataAttribute+"="+nodeLevel+"]","tr[data-"+b.dataAttribute+"="+childrenLevel+"]")}})(jQuery);